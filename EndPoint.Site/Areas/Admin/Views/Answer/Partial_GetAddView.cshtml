@using Azmoon.Application.Service.Question.Dto
@model GetQuestionViewModel
<form asp-action="Create" enctype="multipart/form-data">
    <input asp-for="Id" class="form-control" type="hidden" />

  

    <div class="form-group">
        <label class="control-label"> متن</label>
        <textarea name="Message" class="form-control" id="default-editor"></textarea>

    </div>
    <div class="form-group" id="fileUpload">

        <input name="ImageFile" class="form-control" type="file" />

    </div>
    <p><span class="btn btn-info mt-2 mb-2" id="addFileUpload">افزودن فایل های بیشتر</span></p>

    <div class="form-group">
        <input type="submit" value="ثبت" class="btn btn-primary" />
    </div>
</form>


    <link href="~/lib/trumbowyg-2_25_1/ui/trumbowyg.css" rel="stylesheet" />

    <script src="~/lib/trumbowyg-2_25_1/trumbowyg.js"></script>
    <script>
    $('#default-editor').trumbowyg();


    $(document).ready(function () {
        $('#AnswerModal').modal('show');


        let Template = `<input name="ImageFile" class="form-control mt-2 mb-2" type="file" />`;
        $("#addFileUpload").on("click", function () {
            var fileCount = 0;
            $('input[type="file"]').each(function () {
                fileCount = fileCount+1;
            });
            if (fileCount<4) {
                $("#fileUpload").append(Template);
            }
            else {
                var errorMsg = `<p style="color:red;">کاربر محترم شما فقط تعداد چهار فایل می توانید ضمیمه نمایئد!!!</p>`;
                $("#fileUpload").append(errorMsg);
            }

        });

    });

    </script>
